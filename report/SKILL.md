# report - 企业风险分析报告生成

整合新闻、风险、财务模块的缓存数据，生成 Markdown 格式的综合风险分析报告。

## 功能特性

- **数据整合**：自动读取 news、risk、finance 三个模块的缓存数据
- **综合评估**：按五维度权重展示数据覆盖情况
- **Markdown 输出**：结构化的 Markdown 格式报告
- **结果缓存**：默认缓存 12 小时

## 使用方法

```bash
bash report/generate.sh "宁德时代"
bash report/generate.sh "华为技术有限公司"
```

### 参数说明

| 参数 | 说明 | 默认值 |
|------|------|--------|
| `$1` | 公司名称 | 必填 |

> 注：report 模块不直接抓取网络数据，而是读取其他模块的缓存。建议先运行 news、risk、finance 模块后再生成报告。

## 数据来源

- 读取 `~/.cache/wuwenzixun/` 下 news、risk、finance 模块的缓存文件

## 报告结构

1. **执行摘要** - 数据覆盖概况
2. **新闻舆情分析** - 引用 news 模块数据
3. **风险事件分析** - 引用 risk 模块数据
4. **财务分析** - 引用 finance 模块数据
5. **综合评估** - 五维度权重表
6. **结论与建议** - 通用行动建议

## 输出示例

```
# 宁德时代 风险分析报告

生成时间: 2026-02-07 17:00:00

---

## 执行摘要

本报告基于公开信息对 **宁德时代** 进行综合风险分析。
数据覆盖: 新闻动态(5条)、风险事件(8条)、财务信息(3条)。

## 综合评估

| 维度 | 权重 | 数据量 |
|------|------|--------|
| 财务风险 | 30% | 3条 |
| 运营风险 | 25% | - |
| 法律风险 | 20% | 8条 |
| 市场风险 | 15% | 5条 |
| 声誉风险 | 10% | - |

## 结论与建议

1. 持续关注企业新闻动态和舆情变化
2. 定期更新风险评估数据
3. 重点关注已识别的风险事项

---
*本报告由 wuwenzixun 自动生成，仅供参考*
```

## 缓存机制

- 缓存时长：12 小时
- 缓存目录：`~/.cache/wuwenzixun/report/`

## 依赖项

- `grep` - 统计各模块数据量
- 无需网络请求，仅读取本地缓存文件

## 相关技能

- [news](../news/SKILL.md) - 企业新闻抓取
- [risk](../risk/SKILL.md) - 风险信息检索
- [finance](../finance/SKILL.md) - 财务信息抓取
- [outlook](../outlook/SKILL.md) - 未来展望建议
