# wuwenzixun - 企业风险分析助手

实时抓取指定企业的网上信息，生成企业风险分析和未来展望报告。

## 项目结构

```
wuwenzixun/
├── news/           # 企业新闻抓取
│   ├── SKILL.md    # 技能文档
│   └── fetch.sh    # 新闻获取脚本
├── risk/           # 风险信息检索
│   ├── SKILL.md    # 技能文档
│   └── check.sh    # 风险检查脚本
├── finance/        # 财务信息抓取
│   ├── SKILL.md    # 技能文档
│   └── fetch.sh    # 财务获取脚本
├── report/         # 风险分析报告
│   ├── SKILL.md    # 技能文档
│   └── generate.sh # 报告生成脚本
├── outlook/        # 未来展望建议
│   ├── SKILL.md    # 技能文档
│   └── predict.sh  # 预测脚本
├── SKILL.md        # 主技能文档
├── analyze.sh      # 统一入口脚本
└── config.sh       # 配置文件
```

## 快速开始

```bash
# 安装依赖
pip install -r requirements.txt

# 查看帮助
./analyze.sh --help

# 完整分析流程
./analyze.sh "公司名称"

# 或单独使用某个子技能
cd news && ./fetch.sh "公司名称"
```

## 子技能概览

### 1. news - 企业新闻抓取
**功能**：从多个权威来源实时抓取企业新闻资讯

**特性**：
- 多源聚合（百度、新浪、东方财富等）
- 智能去重和相关性排序
- 时间范围筛选
- 新闻分类（财经、科技、政策等）

**使用**：
```bash
cd news && ./fetch.sh "腾讯" --limit 10 --days 7
```

**详细文档**：[news/SKILL.md](news/SKILL.md)

### 2. risk - 企业风险信息检索
**功能**：全面检索企业风险信息，构建风险画像

**特性**：
- 诉讼/处罚/失信信息检索
- 多维度风险评分
- 风险等级自动评估
- 舆情监测

**使用**：
```bash
cd risk && ./check.sh "恒大集团" --full --score
```

**详细文档**：[risk/SKILL.md](risk/SKILL.md)

### 3. finance - 企业财务信息抓取
**功能**：抓取和分析企业财务数据

**特性**：
- 财报数据提取
- 关键财务指标计算
- 多期对比分析
- 行业对标

**使用**：
```bash
cd finance && ./fetch.sh "贵州茅台" --full --benchmark
```

**详细文档**：[finance/SKILL.md](finance/SKILL.md)

### 4. report - 风险分析报告生成
**功能**：整合多维数据，生成综合分析报告

**特性**：
- 数据智能整合
- 多格式输出（Markdown/HTML/PDF/JSON）
- 风险评分和等级评估
- 模板定制

**使用**：
```bash
cd report && ./generate.sh "宁德时代" --full --format markdown --output report.md
```

**详细文档**：[report/SKILL.md](report/SKILL.md)

### 5. outlook - 未来展望建议
**功能**：基于数据分析，预测企业未来发展

**特性**：
- 短期/中期/长期预测
- SWOT/PESTEL分析
- 情景分析（乐观/基准/悲观）
- 行动建议

**使用**：
```bash
cd outlook && ./predict.sh "比亚迪" --full --scenario --swot
```

**详细文档**：[outlook/SKILL.md](outlook/SKILL.md)

## 统一入口

### analyze.sh 主脚本

```bash
# 基础用法
./analyze.sh "公司名称"

# 完整分析（深度）
./analyze.sh "公司名称" --depth full

# 快速概览
./analyze.sh "公司名称" --depth quick

# 指定输出目录
./analyze.sh "公司名称" --output ./results/

# 生成评分卡
./analyze.sh "公司名称" --scorecard

# 邮件发送报告
./analyze.sh "公司名称" --email user@example.com
```

**参数说明**：

| 参数 | 说明 | 默认值 |
|------|------|--------|
| `公司名称` | 要分析的企业 | 必填 |
| `--depth` | 分析深度：quick/normal/full | normal |
| `--output` | 输出目录 | ./output/ |
| `--format` | 报告格式 | markdown |
| `--scorecard` | 生成评分卡 | false |
| `--email` | 邮件发送 | false |
| `--benchmark` | 行业对标 | false |

## 工作流程

```
┌─────────────────────────────────────────────────────────┐
│                    wuwenzixun 工作流程                  │
└─────────────────────────────────────────────────────────┘
                            │
                            ▼
            ┌───────────────┴───────────────┐
            │      1. 输入企业名称           │
            │      ./analyze.sh "公司"      │
            └───────────────┬───────────────┘
                            │
            ┌───────────────▼───────────────┐
            │      2. 新闻抓取 (news)        │
            │      ./fetch.sh "公司"         │
            └───────────────┬───────────────┘
                            │
            ┌───────────────▼───────────────┐
            │      3. 风险检索 (risk)        │
            │      ./check.sh "公司"        │
            └───────────────┬───────────────┘
                            │
            ┌───────────────▼───────────────┐
            │      4. 财务抓取 (finance)     │
            │      ./fetch.sh "公司"        │
            └───────────────┬───────────────┘
                            │
            ┌───────────────▼───────────────┐
            │      5. 报告生成 (report)     │
            │      ./generate.sh "公司"     │
            └───────────────┬───────────────┘
                            │
            ┌───────────────▼───────────────┐
            │      6. 未来展望 (outlook)    │
            │      ./predict.sh "公司"      │
            └───────────────┬───────────────┘
                            │
                            ▼
            ┌───────────────┴───────────────┐
            │      7. 输出综合报告          │
            └───────────────────────────────┘
```

## 风险评分体系

### 综合评分计算

```
综合风险评分 = Σ(维度权重 × 维度评分)

权重分配：
├── 运营风险: 25%
├── 财务风险: 30%
├── 法律风险: 20%
├── 市场风险: 15%
└── 声誉风险: 10%
```

### 风险等级

| 分数 | 等级 | 颜色 | 建议 |
|------|------|------|------|
| 0-20 | 低风险 | 🟢 | 积极关注 |
| 21-40 | 较低 | 🟢 | 适度关注 |
| 41-60 | 中等 | 🟡 | 谨慎乐观 |
| 61-80 | 较高 | 🟠 | 风险警示 |
| 81-100 | 高风险 | 🔴 | 回避 |

## 环境要求

- **系统**: macOS / Linux / Windows (WSL)
- **Bash**: 4.0+
- **核心依赖**:
  - `curl` - HTTP 请求
  - `jq` - JSON 处理
  - `git` - 版本控制

- **可选依赖**:
  - `python3` - 高级分析和图表生成
  - `pandas` - 数据处理
  - `markdown` - Markdown 转其他格式
  - `wkhtmltopdf` - HTML 转 PDF

## 配置说明

在 `config.sh` 中配置：

```bash
# 分析深度
ANALYSIS_DEPTH="normal"

# 关注的行业领域
INDUSTRIES=("科技" "金融" "制造" "医疗")

# 风险权重
WEIGHTS=(financial:0.3 operational:0.25 legal:0.2)

# 输出格式
OUTPUT_FORMAT="markdown"

# 缓存目录
CACHE_DIR="$HOME/.cache/wuwenzixun"
```

## 数据来源

### 新闻数据
- 百度新闻、新浪财经、东方财富
- 腾讯财经、凤凰财经

### 风险数据
- 中国执行信息公开网
- 中国裁判文书网
- 国家企业信用信息公示系统
- 信用中国

### 财务数据
- 上海/深圳证券交易所
- 巨潮资讯网
- 东方财富、同花顺
- Wind 资讯

## 输出示例

```
📋 wuwenzixun 综合分析报告

【📊 综合风险评估】
  综合风险: 🟢 低风险 (18/100)
  
  ├── 运营风险: 15/100 🟢
  ├── 财务风险: 20/100 🟢
  ├── 法律风险: 25/100 🟢
  ├── 市场风险: 18/100 🟢
  └── 声誉风险: 12/100 🟢

【📈 未来展望】
  • 短期: 积极关注
  • 中期: 增长确定性高
  • 长期: 投资价值较高
```

## 常见问题

**Q: 如何提高分析准确性？**
A: 使用 `--depth full` 进行深度分析，启用 `--benchmark` 进行行业对标

**Q: 支持批量分析吗？**
A: 创建企业列表文件，使用 `--input companies.txt`

**Q: 报告可以导出哪些格式？**
A: 支持 Markdown、HTML、PDF、JSON 四种格式

**Q: 数据多久更新？**
A: 新闻数据 1 小时，财务数据 12 小时，风险数据 24 小时

## 相关链接

- **GitHub**: https://github.com/IceThunder/wuwenzixun
- **Issues**: 报告问题或功能建议

## 许可证

MIT License

---

**维护者**: wuwenzixun team  
**版本**: 1.0.0  
**最后更新**: 2024-02-03
